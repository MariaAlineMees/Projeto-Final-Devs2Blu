<div class="header">
  <div class="welcome-message" *ngIf="username$ | async as username">
   üì∏ Bem-vindo(a), {{ username }}! Qual ser√° o seu pr√≥ximo destino? üó∫Ô∏èüß≥
  </div>
  <button (click)="logout()" class="logout-button">Sair</button>
</div>

<div class="container">
  <!-- Formul√°rio para Criar/Editar Roteiros -->
  <div class="form-container">
    <h2>{{ isEditing ? 'Editar Roteiro' : 'Novo Roteiro' }}</h2>
    <form (ngSubmit)="salvarRoteiro()">
      <div class="form-group">
        <label for="titulo">T√≠tulo:</label>
        <input type="text" id="titulo" name="titulo" [(ngModel)]="novoRoteiro.titulo" required>
      </div>
      <div class="form-group">
        <label for="destino">Destino:</label>
        <input type="text" id="destino" name="destino" [(ngModel)]="novoRoteiro.destino" required>
      </div>
      <div class="form-group">
        <label for="dataInicio">Data de In√≠cio:</label>
        <input type="date" id="dataInicio" name="dataInicio" [(ngModel)]="novoRoteiro.dataInicio" required>
      </div>
      <div class="form-group">
        <label for="dataFim">Data de Fim:</label>
        <input type="date" id="dataFim" name="dataFim" [(ngModel)]="novoRoteiro.dataFim" required>
      </div>
      <div class="form-group">
        <label for="custoEstimado">Custo Estimado:</label>
        <input type="number" id="custoEstimado" name="custoEstimado" [(ngModel)]="novoRoteiro.custoEstimado" required>
      </div>
      <div class="form-actions">
        <button type="submit">{{ isEditing ? 'Atualizar' : 'Salvar' }}</button>
        <button type="button" (click)="resetForm()" *ngIf="isEditing">Cancelar</button>
      </div>
    </form>
  </div>

  <!-- Lista de Roteiros -->
  <div class="list-container">
    <h2>Meus Roteiros</h2>
    <div *ngIf="roteiros.length === 0" class="empty-state">
      <p>Voc√™ ainda n√£o tem roteiros cadastrados.</p>
    </div>
    <ul *ngIf="roteiros.length > 0">
      <li *ngFor="let roteiro of roteiros">
        <div class="roteiro-info">
          <strong>{{ roteiro.titulo }}</strong> ({{ roteiro.destino }})
          <p>{{ roteiro.dataInicio | date:'dd/MM/yyyy' }} - {{ roteiro.dataFim | date:'dd/MM/yyyy' }}</p>
          <p>Custo: {{ roteiro.custoEstimado | currency:'BRL' }}</p>
        </div>
        <div class="roteiro-actions">
          <button (click)="preencherFormulario(roteiro)">Editar</button>
          <button (click)="deletarRoteiro(roteiro.id)">Deletar</button>
        </div>
      </li>
    </ul>
  </div>
</div>
